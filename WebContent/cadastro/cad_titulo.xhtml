<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:c="http://java.sun.com/jsp/jstl/core"
	xmlns:sec="http://www.springframework.org/security/facelets/tags"
	xmlns:util="http://java.sun.com/jsf/composite/components"
	xmlns:p="http://primefaces.org/ui">

<ui:composition template="/templates/templatePrincipal.xhtml">
	<ui:define name="corpo">
		<h:form id="formCadastro" prependId="false">
			<p:panel header="Cadastro de Título" id="panelCadastro">
				<p:panelGrid id="gridTit" columns="3">
					<p:column>
						<p:row>
							<h:outputLabel for="tit_codigo" value="Código: " id="LabelId" />
						</p:row>
					</p:column>

					<p:column>
						<p:row>
							<p:inputText readonly="true" id="tit_codigo"
								value="#{tituloBeanView.objetoSelecionado.tit_codigo}" />
						</p:row>
					</p:column>

					<p:column />

					<p:column>
						<p:row>
							<h:outputLabel for="tit_origem" value="Origem: " />
						</p:row>
					</p:column>

					<p:column>
						<p:row>
							<p:selectOneMenu id="tit_origem"
								value="#{tituloBeanView.objetoSelecionado.tit_origem}">
								<f:selectItem itemLabel="Origem" itemValue="ORIGEM" />
								<f:selectItem itemLabel="Comissão" itemValue="COMISSAO" />
							</p:selectOneMenu>
						</p:row>
					</p:column>

					<p:column>
						<p:row>
							<p:message for="tit_origem" />
						</p:row>
					</p:column>

					<p:column>
						<p:row>
							<h:outputLabel for="tit_valor" value="Valor R$: " />
						</p:row>
					</p:column>

					<p:column>
						<p:row>
							<p:inputText id="tit_valor" required="true"
								requiredMessage="Informe o valor." maxlength="15"
								value="#{tituloBeanView.objetoSelecionado.tit_valor}">
								<f:convertNumber for="tit_valor" type="number" />
							</p:inputText>
						</p:row>
					</p:column>

					<p:column>
						<p:row>
							<p:message for="tit_valor" />
						</p:row>
					</p:column>

					<p:column>
						<p:row>
							<h:outputLabel for="tit_datahora" value="Data: " />
						</p:row>
					</p:column>

					<p:column>
						<p:row>
							<p:inputText id="tit_datahora" required="true" readonly="true"
								requiredMessage="Informe a data."
								value="#{tituloBeanView.objetoSelecionado.tit_datahora}">
								<f:convertDateTime for="tit_datahora" dateStyle="full"
									pattern="dd/MM/yyyy" />
							</p:inputText>
						</p:row>
					</p:column>

					<p:column>
						<p:row>
							<p:message for="tit_datahora" />
						</p:row>
					</p:column>

					<p:column>
						<p:row>
							<h:outputLabel for="tit_baixado" value="Baixado: " />
						</p:row>
					</p:column>

					<p:column>
						<p:row>
							<p:selectBooleanCheckbox id="tit_baixado" required="true"
								requiredMessage="Informe a baixa."
								value="#{tituloBeanView.objetoSelecionado.tit_baixado}">
							</p:selectBooleanCheckbox>
						</p:row>
					</p:column>

					<p:column>
						<p:row>
							<p:message for="tit_baixado" />
						</p:row>
					</p:column>

					<p:column>
						<p:row>
							<h:outputLabel for="tit_tipo" value="Tipo: " />
						</p:row>
					</p:column>

					<p:column>
						<p:row>
							<p:selectOneMenu id="tit_tipo" required="true"
								requiredMessage="Informe o tipo."
								value="#{tituloBeanView.objetoSelecionado.tit_tipo}">
								<f:selectItem itemLabel="Pagar" itemValue="PAGAR" />
								<f:selectItem itemLabel="Receber" itemValue="RECEBER" />
							</p:selectOneMenu>
						</p:row>
					</p:column>

					<p:column>
						<p:row>
							<p:message for="tit_tipo" />
						</p:row>
					</p:column>

					<p:column>
						<p:row>
							<h:outputLabel for="tit_valorpago" value="Valor pago: " />
						</p:row>
					</p:column>

					<p:column>
						<p:row>
							<p:inputText id="tit_valorpago" required="true"
								requiredMessage="Informe o valor pago."
								value="#{tituloBeanView.objetoSelecionado.tit_valorpago}">
								<f:convertNumber for="tit_valorpago" type="number"
									pattern="0.00" />
							</p:inputText>
						</p:row>
					</p:column>

					<p:column>
						<p:row>
							<p:message for="ent_codigoabertura" />
						</p:row>
					</p:column>

					<p:column>
						<p:row>
							<h:outputLabel for="ent_codigoabertura" value="Responsável: " />
						</p:row>
					</p:column>

					<p:column>
						<p:row>
							<p:inputText id="ent_codigoabertura" required="true"
								requiredMessage="Informe o reponsável."
								value="#{tituloBeanView.objetoSelecionado.ent_codigoabertura.ent_codigo}">
							</p:inputText>
						</p:row>
					</p:column>

					<p:column>
						<p:row>
							<p:message for="ent_codigoabertura" />
						</p:row>
					</p:column>

					<p:column>
						<p:row>
							<h:outputLabel for="autoCompletePagador" value="Responsável: " />
						</p:row>
					</p:column>

					<p:column>
						<p:row>
							<p:autoComplete id="autoCompletePagador" required="true"
								requiredMessage="Informe o pagador."
								completeMethod="#{tituloBeanView.pesquisarPagador}"
								minQueryLength="4" placeholder="Digite 4 letras min"
								queryDelay="3000"
								value="#{tituloBeanView.objetoSelecionado.ent_codigo}" var="ent"
								itemValue="#{ent}" itemLabel="#{ent.ent_nomefantasia}"
								converter="entidadeConverter">
							</p:autoComplete>
						</p:row>
					</p:column>

					<p:column>
						<p:row>
							<p:message for="autoCompletePagador" />
						</p:row>
					</p:column>

				</p:panelGrid>
			</p:panel>

			<div class="espacoBranco" />

			<util:botoesCrud managedBeanView="#{tituloBeanView}"
				camposReload=":formTamplete:msg, tableResult"
				botaoNovo="#{contextoBean.possuiAcesso('FINANCEIRO_NOVO', 'ADMIN')}"
				botaoSalvar="#{contextoBean.possuiAcesso('FINANCEIRO_NOVO', 'ADMIN') and tituloBeanView.objetoSelecionado.tit_codigo == null}"
				botaoAtualizar="#{contextoBean.possuiAcesso('FINANCEIRO_EDITAR', 'ADMIN') and tituloBeanView.objetoSelecionado.tit_codigo != null}"
				botaoExcluir="#{contextoBean.possuiAcesso('FINANCEIRO_EXCLUIR', 'ADMIN')}">
			</util:botoesCrud>
		</h:form>

		<div class="espacoBranco" />

		<p:dataTable id="tableResult" rows="10"
			emptyMessage="Não existem dados para mostrar" paginator="true"
			lazy="true" var="objeto" paginatorPosition="bottom"
			value="#{tituloBeanView.list.list}"
			paginatorTemplate=" {FirstPageLink}">
			<ui:include src="/resources/components/colunasDataTableTitulo.xhtml" />
		</p:dataTable>

	</ui:define>
</ui:composition>
</html>